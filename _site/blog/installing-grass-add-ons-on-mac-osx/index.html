<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">

  <title>Installing GRASS Add-Ons on Mac OSX</title>

  <meta name="author" content="Carlos H. Grohmann" />

  

  <link rel="alternate" type="application/rss+xml" title="Prof. Carlos H. Grohmann - Personal website of Prof. Carlos H. Grohmann (IEE-USP, Brazil)" href="/feed.xml" />

  

  

  
<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-39493509-1', 'auto');
    ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />


    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="Installing GRASS Add-Ons on Mac OSX" />
  

   
  <meta property="og:description" content="After some searching and asking on the GRASS mailing list, I found a good way to install the GRASS add-ons on my OSX Lion. On William Kyngesburye’s page, we find this note: Addon Modules Included is a build template similar to the GEM system for modules. But it doesn’t require...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://localhost:4000/blog/installing-grass-add-ons-on-mac-osx/" />
  <link rel="canonical" href="http://localhost:4000/blog/installing-grass-add-ons-on-mac-osx/" />
  

  
  <meta property="og:image" content="http://localhost:4000/img/doodle_crop.jpg" />
  


  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <meta name="twitter:creator" content="@" />

  
  <meta name="twitter:title" content="Installing GRASS Add-Ons on Mac OSX" />
  

  
  <meta name="twitter:description" content="After some searching and asking on the GRASS mailing list, I found a good way to install the GRASS add-ons on my OSX Lion. On William Kyngesburye’s page, we find this note: Addon Modules Included is a build template similar to the GEM system for modules. But it doesn’t require...">
  

  
  <meta name="twitter:image" content="http://localhost:4000/img/doodle_crop.jpg" />
  

  

  

</head>


  <body>

    

  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://localhost:4000">Prof. Carlos H. Grohmann</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">About Me</a>
            <div class="navlinks-children">
              
                
                  





  
  <a href="/aboutme">Bio|CV</a>




                
              
                
                  





  
  <a href="/photos">Photos</a>




                
              
            </div>
          </li>
        
        
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">Research</a>
            <div class="navlinks-children">
              
                
                  





  
  <a href="/grants">Projects</a>




                
              
                
                  





  
  <a href="/students">Students</a>




                
              
                
                  





  
  <a rel="noopener noreferrer" target="_blank" href="https://spamlab.github.io">SPAM!(Lab)</a>




                
              
            </div>
          </li>
        
        
        
          <li>
            





  
  <a href="/publications">Publications</a>




          </li>
        
        
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">Blog</a>
            <div class="navlinks-children">
              
                
                  





  
  <a href="/blog">Posts</a>




                
              
                
                  





  
  <a href="/archive">Archive</a>




                
              
                
                  





  
  <a href="/tags">Tags</a>




                
              
            </div>
          </li>
        
        
        
          <li>
            





  
  <a href="/search">?</a>




          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://localhost:4000">
	      <img class="avatar-img" src="/img/doodle_crop.jpg" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Installing GRASS Add-Ons on Mac OSX</h1>
		  
		  
		  
		  <span class="post-meta">Posted on June 7, 2012</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      

      <article role="main" class="blog-post">
        <p>After some searching and asking on the GRASS mailing list, I found a good way to install the GRASS add-ons on my OSX Lion. On William Kyngesburye’s <a rel="noopener noreferrer" target="_blank" href="http://www.kyngchaos.com/software/grass">page</a>, we find this note:</p>

<blockquote>
  <p><strong>Addon Modules</strong> Included is a build template similar to the GEM system for modules. But it doesn’t require the module source to be configured for GEM (I haven’t seen any that are yet). It’s a bit rough. See the included readme for details.</p>
</blockquote>

<p>But there’s not much more. There is a nice <a rel="noopener noreferrer" target="_blank" href="http://www.forumsig.org/showthread.php?t=33173">topic</a> in the french forumSIG, but you need to be registered in order to see the pictures. So I decided to post the instructions here.</p>

<p>First you need to install XCode from the AppleStore and the CLI (command line interface) tools. (the CLI tools can be installed from XCode preferences). Next, fix the SDKs path: findo the Xcode.app, right-click over it and choose <strong>Show package contents</strong>. Now go to <strong>Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs</strong> and copy <strong>MacOSX10.7.sdk</strong> to <strong>/Developer/SDKs</strong> (you might need to create this folder).</p>

<p>Then, download and install KyngChaos’ <a rel="noopener noreferrer" target="_blank" href="http://www.kyngchaos.com/files/software/grass/GRASS-6.4.2-3-Snow.dmg">package</a>. It will create a directory for your GRASS version under <strong>/Library</strong>. Since the directory is read-only, we need to copy the <strong>modbuild</strong> sub-directory to another place. In my case, I copied it to <strong>/Users/guano/Documents/installs/grass/modbuild</strong></p>

<p><img src="/img/addons1.png" alt="" width="70%" /></p>

<p>Now we put the directory of the module we want to compile under the <strong>module</strong> subdir of our new modbuild directory (I’m using <strong>r.stream.order</strong> here).</p>

<p><img src="/img/addons2.png" alt="" width="70%" /></p>

<p>Open the Terminal and go to the module’s directory, in my case <strong>/Users/guano/Documents/installs/grass/modbuild/module/r.stream.order</strong>, and run this (it’s a single line command):</p>

<p><code class="highlighter-rouge">&gt; make GRASS_HOME='/Users/guano/Documents/installs/grass/modbuild/module/r.stream.order' GRASS_APP='/Applications/GRASS-6.4.app'</code></p>

<p><img src="/img/addons3.png" alt="" width="70%" /></p>

<p>just make sure that GRASS_HOME points to your module’s directory (you can drag the folder from Finder in the Terminal and it will give you the full path to it). After the compilation ends, you should have a directory named <strong>dist.i386-apple-darwin10.7.0</strong> under your module’s directory (if you are on Lion. If you run an older version of OSX, the “10.X” part will reflect your system’s version). Now you just copy the relevant files to <strong>/Library/GRASS/6.4/Modules/</strong>: copy the executable under <strong>bin</strong> to <strong>/Library/GRASS/6.4/Modules/bin</strong> and the files under <strong>html</strong> to <strong>/Library/GRASS/6.4/Modules/doc/html</strong>.</p>

<p><img src="/img/addons4.png" alt="" width="70%" /></p>

<p>Now you should be able to run the add-on via the GRASS terminal:</p>

<p><img src="/img/addons5.png" alt="" width="70%" /></p>

<p>Nice, huh?</p>

<h4 id="comments">Comments</h4>

<p><strong><a href="#24" title="2012-06-23 12:53:25">Manuel</a>:</strong> Nice indeed. However I am getting trouble compiling because it complains on some dependencies while compiling your very same module. The error is the following: ld: warning: directory not found for option ‘-L/Users/Shared/unix/pgsql-pq-snow/usr/local/pgsql-9.1/lib’ ld: duplicate symbol _main in OBJ.i386-apple-darwin11.3.0/prueba.o and OBJ.i386-apple-darwin11.3.0/main.o for architecture i386 collect2: ld returned 1 exit status ld: warning: directory not found for option ‘-L/Users/Shared/unix/pgsql-pq-snow/usr/local/pgsql-9.1/lib’ ld: duplicate symbol _main in OBJ.i386-apple-darwin11.3.0/prueba.o and OBJ.i386-apple-darwin11.3.0/main.o for architecture x86_64 collect2: ld returned 1 exit status Have you had this problem also? Any idea on how to overcome it? Thank you a lot for your post</p>

<p><strong><a href="#25" title="2012-06-24 15:29:30">carlosgrohmann</a>:</strong> Hi there. It seems your errors are related to PostgreSQL (the ‘pgsql’ part). Try installing it and see if it works. I can’t really tell from experience, since I installed all GRASS dependencies via macports (I also run GRASS’ development version). According to PostgreSQL’s page, the OSX package contains the C libraries, so it should be what you need. here: http://www.postgresql.org/download/macosx/ hope that helps!</p>

<p><strong><a href="#26" title="2012-09-13 20:46:16">Marcello</a>:</strong> Caro professor Carlos, faz apenas alguns dias que eu comprei meu MacBook. Gostaria de saber como é o procedimento para baixar as dependências através do MacPorts (é similar ao home brew?), você teria algum passo a passo referente ao GRASS para isso? outra dúvida, caso haja algum problema na instalação, como eu verifico? estou habituado a compilar o GRASS no Ubuntu, mas no Mountain Lion eu estou completamente perdido! (e quase jogando ele no chão, rs). Um abraço e parabéns pelo seu excelente Post!</p>

<p><strong><a href="#27" title="2012-09-14 21:01:49">carlosgrohmann</a>:</strong> Caro Marcello, O Mac Ports é bem legal e cuida de todas as dependências pra você. Um simples <code class="highlighter-rouge">sudo port install grass</code> dever ser suficiente. Quando eu compilei o GRASS 7 no meu Mac, o processo de instalar as dependências foi um pouco manual. Eu rodava meu ./configure e a cada erro, instalava a dependência até não ter mais erros. Ultimamente tenho preferido usar o pacote pronto do William Kyngesburye. Ele tem pacotes do GRASS 6.4, QGIS 1.8 e das dependências (GDAL, FreeType etc). Funciona perfeitamente. http://www.kyngchaos.com/software/grass abraços Carlos</p>

<p><strong><a href="#28" title="2013-02-01 16:26:23">Brian Miles</a>:</strong> Thanks so much for putting this together. I can’t tell you how much time I wasted before finding this. Thank you!!! I made the following makefile to make it easy to copy the executable and HTML into the correct place (see the “deploy” target): MODULE_TOPDIR = ../.. GRASS_VERSION_STR = 6.4 PGM = r.findtheriver LIBES = $(GISLIB) DEPENDENCIES = $(GISDEP) include $(MODULE_TOPDIR)/include/Make/Module.make default: cmd deploy: cp dist.<em>/bin/$(PGM) /Library/GRASS/$(GRASS_VERSION_STR)/Modules/bin cp dist.</em>/docs/html/* /Library/GRASS/$(GRASS_VERSION_STR)/Modules/docs/html</p>


      </article>

      
        <div class="blog-tags">
          Tags:
          
          
            <a href="/tags#GRASS">GRASS</a>
          
            <a href="/tags#install">install</a>
          
            <a href="/tags#mac">mac</a>
          
          
        </div>
      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
  <!--- Share on Twitter -->
    <a rel="noopener noreferrer" target="_blank" href="https://twitter.com/intent/tweet?text=Installing+GRASS+Add-Ons+on+Mac+OSX+http://localhost:4000/blog/installing-grass-add-ons-on-mac-osx/"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fa fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
  <!--- Share on Facebook -->
    <a rel="noopener noreferrer" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/blog/installing-grass-add-ons-on-mac-osx/"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fa fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
  <!--- Share on Google Plus -->
    <a rel="noopener noreferrer" target="_blank" href="https://plus.google.com/share?url=http://localhost:4000/blog/installing-grass-add-ons-on-mac-osx/"
      class="btn btn-social-icon btn-google" title="Share on Google+">
      <span class="fa fa-fw fa-google-plus" aria-hidden="true"></span>
      <span class="sr-only">Google+</span>
    </a>
  

  

</section>



      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/blog/call-for-papers-ijgis-special-issue-on-geological-applications-of-digital-terrain-analysis/" data-toggle="tooltip" data-placement="top" title="Call for Papers - IJGIS Special Issue on Geological Applications of Digital Terrain Analysis">&larr; Previous Post</a>
        </li>
        
        
        <li class="next">
          <a href="/blog/satelite-faz-foto/" data-toggle="tooltip" data-placement="top" title="Satélite faz foto?">Next Post &rarr;</a>
        </li>
        
      </ul>

      
        <div class="disqus-comments">
          <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'CarlosGrohmann';
        /* ensure that pages with query string get the same discussion */
            var url_parts = window.location.href.split("?");
            var disqus_url = url_parts[0];
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a rel="noopener noreferrer" target="_blank" href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        </div>
          
        <div class="staticman-comments">
          

        </div>
      
    </div>
  </div>
</div>


    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links"><li><a href="/feed.xml" title="RSS"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">RSS</span>
              </a>
            </li><li><a href="https://github.com/CarlosGrohmann" title="GitHub"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">GitHub</span>
              </a>
            </li><li><a href="https://twitter.com/CarlosGrohmann" title="Twitter"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Twitter</span>
              </a>
            </li><li><a href="https://www.instagram.com/CarlosGrohmann" title="Instagram"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Instagram</span>
              </a>
            </li></ul>
      <p class="copyright text-muted">
      Carlos H. Grohmann
      &nbsp;&bull;&nbsp;
      2019

      
      &nbsp;&bull;&nbsp;
      <a href="http://localhost:4000">carlosgrohmann.com</a>
      

      
      </p>
          <!-- Please don't remove this, keep my open source work credited :) -->
    <p class="theme-by text-muted">
      Theme by
      <a href="https://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
    </p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  


  
  </body>
</html>
